import ts, {} from 'typescript';
export function template(code, selectorOrTransformers, transformers) {
    let selector;
    if (Array.isArray(selectorOrTransformers)) {
        // eslint-disable-next-line no-param-reassign
        transformers = selectorOrTransformers;
    }
    else {
        selector = selectorOrTransformers;
    }
    let sourceFile = ts.createSourceFile('f.ts', code, ts.ScriptTarget.Latest, false);
    if (transformers) {
        [sourceFile] = ts.transform(sourceFile, transformers).transformed;
    }
    return selector?.(sourceFile.statements) ?? sourceFile.statements;
}
export function transform(transformer) {
    return (context) => (root) => {
        const visitor = (node) => ts.visitEachChild(transformer(node), visitor, context);
        return ts.visitEachChild(root, visitor, context);
    };
}
//# sourceMappingURL=ast.js.map